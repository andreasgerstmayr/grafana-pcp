// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`PCP BPFtrace should register a script and return the data 1`] = `
Object {
  "data": Array [
    Object {
      "fields": Array [
        Object {
          "config": Object {},
          "labels": undefined,
          "name": "Time",
          "type": "time",
          "values": Array [
            10000,
            11000,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 0,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "0-0",
              },
              "instanceId": 0,
            },
            "displayName": "0",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[0-0]",
          "type": "number",
          "values": Array [
            null,
            7814,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 1,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "1-1",
              },
              "instanceId": 1,
            },
            "displayName": "1",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[1-1]",
          "type": "number",
          "values": Array [
            null,
            7841,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 2,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "2-2",
              },
              "instanceId": 2,
            },
            "displayName": "2",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[2-2]",
          "type": "number",
          "values": Array [
            null,
            7024,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 3,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "3-3",
              },
              "instanceId": 3,
            },
            "displayName": "3",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[3-3]",
          "type": "number",
          "values": Array [
            null,
            6902,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 4,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "4-4",
              },
              "instanceId": 4,
            },
            "displayName": "4",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[4-4]",
          "type": "number",
          "values": Array [
            null,
            6784,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 5,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "5-5",
              },
              "instanceId": 5,
            },
            "displayName": "5",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[5-5]",
          "type": "number",
          "values": Array [
            null,
            7354,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 6,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "6-6",
              },
              "instanceId": 6,
            },
            "displayName": "6",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[6-6]",
          "type": "number",
          "values": Array [
            null,
            6943,
          ],
        },
        Object {
          "config": Object {
            "custom": Object {
              "instance": Object {
                "instance": 7,
                "labels": Object {
                  "domainname": "localdomain",
                  "hostname": "dev",
                  "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                },
                "name": "7-7",
              },
              "instanceId": 7,
            },
            "displayName": "7",
            "unit": undefined,
          },
          "labels": Object {
            "agent": "bpftrace",
            "domainname": "localdomain",
            "hostname": "dev",
            "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
            "metrictype": "histogram",
          },
          "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu[7-7]",
          "type": "number",
          "values": Array [
            null,
            6817,
          ],
        },
      ],
      "meta": Object {
        "custom": Object {
          "context": Object {
            "context": 1,
            "labels": Object {},
          },
          "metric": Object {
            "instanceDomain": Object {
              "instances": Object {
                "0": Object {
                  "instance": 0,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "0-0",
                },
                "1": Object {
                  "instance": 1,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "1-1",
                },
                "2": Object {
                  "instance": 2,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "2-2",
                },
                "3": Object {
                  "instance": 3,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "3-3",
                },
                "4": Object {
                  "instance": 4,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "4-4",
                },
                "5": Object {
                  "instance": 5,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "5-5",
                },
                "6": Object {
                  "instance": 6,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "6-6",
                },
                "7": Object {
                  "instance": 7,
                  "labels": Object {
                    "domainname": "localdomain",
                    "hostname": "dev",
                    "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                  },
                  "name": "7-7",
                },
              },
              "labels": Object {
                "domainname": "localdomain",
                "hostname": "dev",
                "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
              },
            },
            "metadata": Object {
              "indom": "151.102010",
              "labels": Object {
                "agent": "bpftrace",
                "domainname": "localdomain",
                "hostname": "dev",
                "machineid": "6dabb302d60b402dabcc13dc4fd0fab8",
                "metrictype": "histogram",
              },
              "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu",
              "sem": "counter",
              "series": "683ecb966ec0656df5e13e51a76185a6b693b36f",
              "text-help": "@cpu variable of bpftrace script",
              "text-oneline": "@cpu variable of bpftrace script",
              "type": "u64",
              "units": "none",
            },
            "values": Array [
              Object {
                "timestampMs": 10000,
                "values": Array [
                  Object {
                    "instance": 0,
                    "value": 11708,
                  },
                  Object {
                    "instance": 1,
                    "value": 12355,
                  },
                  Object {
                    "instance": 2,
                    "value": 11248,
                  },
                  Object {
                    "instance": 3,
                    "value": 12238,
                  },
                  Object {
                    "instance": 4,
                    "value": 11633,
                  },
                  Object {
                    "instance": 5,
                    "value": 11468,
                  },
                  Object {
                    "instance": 6,
                    "value": 11464,
                  },
                  Object {
                    "instance": 7,
                    "value": 11103,
                  },
                ],
              },
              Object {
                "timestampMs": 11000,
                "values": Array [
                  Object {
                    "instance": 0,
                    "value": 19522,
                  },
                  Object {
                    "instance": 1,
                    "value": 20196,
                  },
                  Object {
                    "instance": 2,
                    "value": 18272,
                  },
                  Object {
                    "instance": 3,
                    "value": 19140,
                  },
                  Object {
                    "instance": 4,
                    "value": 18417,
                  },
                  Object {
                    "instance": 5,
                    "value": 18822,
                  },
                  Object {
                    "instance": 6,
                    "value": 18407,
                  },
                  Object {
                    "instance": 7,
                    "value": 17920,
                  },
                ],
              },
            ],
          },
          "query": Object {
            "expr": "...cpuwalk...",
            "format": "heatmap",
            "hostspec": "127.0.0.1",
            "refId": "A",
            "url": "http://localhost:1234",
          },
        },
      },
      "name": undefined,
      "refId": undefined,
    },
  ],
}
`;

exports[`PCP BPFtrace should register a script and return the data 2`] = `
Array [
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "hostspec": "127.0.0.1",
        "polltimeout": 11,
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/context",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "hostspec": "127.0.0.1",
        "polltimeout": 30,
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/context",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "context": 2,
        "name": "bpftrace.control.register",
        "value": "...cpuwalk...",
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/store",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "context": 2,
        "names": "bpftrace.control.register",
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/fetch",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "context": 1,
        "names": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu",
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/metric",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "context": 1,
        "names": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu,bpftrace.info.scripts_json",
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/fetch",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "context": 1,
        "name": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu",
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/indom",
    },
  ],
  Array [
    Object {
      "headers": Object {
        "Content-Type": "application/json",
      },
      "params": Object {
        "context": 1,
        "names": "bpftrace.scripts.sce2abad9ff87465582cfd5945b375205.data.cpu,bpftrace.info.scripts_json",
      },
      "showSuccessAlert": false,
      "url": "http://localhost:1234/pmapi/fetch",
    },
  ],
]
`;
